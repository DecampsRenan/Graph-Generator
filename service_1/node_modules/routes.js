// On ajoute les dépendances
var app    = global.app,
    Graphe = global.Graphe;


// Gestion de l'accueil
app.get('/', function(req, res) {
    res.send("-- JSON Graph formater --");
	new Graphe(5, 50);
});


// Reception des données de construction du graphe
app.get('/create/:nbSommets/:densite', function(req, res) {

<<<<<<< HEAD

    console.log('Request URL : ', req.originalUrl);
    console.log('Params : ', req.params);

    var g;

    console.log('Request URL : ', req.originalUrl);
    console.log('Params : ', req.params);

    var nbSommets = req.params.nbSommets,
        densite   = req.params.densite,
        g;


    if (nbSommets > 0 && (densite > 0 && densite <= 100)) {
        g = new Graphe(nbSommets, densite);
    }




    console.log(g);
    res.json(g);

});
=======
	var nbSommets = req.params.nbSommets,
	densite   = req.params.densite,
	objJSON,
	g;

	if (nbSommets > 0 && (densite > 0 && densite <= 100)) {
		g = new Graphe(nbSommets, densite);
	}

	res.set({
		'Access-Control-Allow-Origin': '*'
	});

	objJSON = g.toJSON();

	console.log(g.toJSON());
	res.json(g.toJSON());
});
>>>>>>> origin/master
