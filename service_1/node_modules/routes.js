// On ajoute les dÃ©pendances
var app    = global.app,
    Graphe = global.Graphe;

app.use(function(req, res, next) {
	res.header('Access-Control-Allow-Origin', '*');
	res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Access');
	next();
});

// Reception des donnÃ©es de construction du graphe
app.get('/create/:nbSommets/:densite', function(req, res) {
	var nbSommets = req.params.nbSommets,
		densite   = req.params.densite,
		g;

	if (nbSommets > 0 && (densite > 0 && densite <= 100)) {
		g = new Graphe(nbSommets, densite);
	}

	res.json(g.toJSON());
});
